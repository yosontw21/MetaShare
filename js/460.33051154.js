"use strict";(self["webpackChunkmetahare_front"]=self["webpackChunkmetahare_front"]||[]).push([[460],{6732:function(t,s){s["Z"]={data(){return{profile:[],followers:[],following:[],isLoading:!1}},methods:{getProfile(){this.isLoading=!0;const t=document.cookie.split("jwt=").pop();this.$http({method:"GET",url:"https://metashare.onrender.com/api/users/myProfile",headers:{Authorization:`Bearer ${t}`}}).then((t=>{this.isLoading=!1,this.profile=t.data.data,this.followers=t.data.data.followers,this.following=t.data.data.following})).catch((t=>{this.isLoading=!1,console.log(t),"您尚未登入"===t.response.data.message&&this.$router.push("/login")}))}},created(){this.getProfile()}}},4460:function(t,s,e){e.r(s),e.d(s,{default:function(){return O}});var o=e(3396),a=e(7139),l=e(9242);const r={class:"w-100 bg-light h-100 pb-md-10 pb-19"},i={class:"container pt-20 d-flex"},d={class:"rounded-2 shadow-lg w-100 bg-white p-2"},n={class:"border-bottom py-1"},c={class:"rounded-circle me-2"},h=["src"],u={class:""},p={class:"text-dark-800 fs-xs fw-bold mb-0"},f=(0,o._)("p",{class:"text-black-50 fs-2xs"},"查看個人貼文牆",-1),m={class:"border-bottom py-3"},g=(0,o._)("span",{class:"material-icons fs-lg me-1"}," edit_square ",-1),w=(0,o.Uk)(" 編輯個人資料"),b={class:"border-bottom py-3",style:{cursor:"pointer"}},_=(0,o._)("span",{class:"material-icons fs-lg ms-1 me-1"}," logout ",-1),k=(0,o.Uk)(" 登出"),x=[_,k];function v(t,s,e,_,k,v){const y=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",r,[(0,o._)("div",i,[(0,o._)("ul",d,[(0,o._)("li",n,[(0,o.Wm)(y,{to:`/profile/${t.profile._id}`,class:"d-flex"},{default:(0,o.w5)((()=>[(0,o._)("div",c,[(0,o._)("img",{class:"rounded-circle",src:t.profile.avatar,alt:"",style:{width:"40px",height:"40px"}},null,8,h)]),(0,o._)("div",u,[(0,o._)("p",p,(0,a.zw)(t.profile.name),1),f])])),_:1},8,["to"])]),(0,o._)("li",m,[(0,o.Wm)(y,{to:"/updateUser",class:"fw-bold fs-xs d-block text-dark-800"},{default:(0,o.w5)((()=>[g,w])),_:1})]),(0,o._)("li",b,[(0,o._)("a",{onClick:s[0]||(s[0]=(0,l.iM)(((...t)=>v.logOut&&v.logOut(...t)),["prevent"])),class:"fw-bold fs-xs d-block text-dark-800"},x)])])])])}var y=e(6732),$={mixins:[y.Z],methods:{logOut(){this.$http({method:"GET",url:"https://metashare.onrender.com/api/users/logout"}).then((t=>{"success"===t.data.status&&(document.cookie="jwt=; path=/",this.$router.push("/login"))})).catch((t=>{console.log(t)}))}}},L=e(89);const C=(0,L.Z)($,[["render",v]]);var O=C}}]);
//# sourceMappingURL=460.33051154.js.map