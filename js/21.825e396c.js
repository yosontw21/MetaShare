"use strict";(self["webpackChunkmetahare_front"]=self["webpackChunkmetahare_front"]||[]).push([[21],{6720:function(s,e){e["Z"]={data(){return{followingList:[]}},methods:{getFollow(){this.isLoading=!0;const s=document.cookie.split("jwt=").pop();this.$http({method:"GET",url:"https://metashare.onrender.com/api/users/getFollowingList",headers:{Authorization:`Bearer ${s}`}}).then((s=>{this.isLoading=!1,this.followingList=s.data.data.following})).catch((s=>{console.log(s)}))}},created(){this.getFollow()}}},1617:function(s,e){e["Z"]={data(){return{followersList:[]}},methods:{getFollowers(){this.isLoading=!0;const s=document.cookie.split("jwt=").pop();this.$http({method:"GET",url:"https://metashare.onrender.com/api/users/getFollowersList",headers:{Authorization:`Bearer ${s}`}}).then((s=>{this.isLoading=!1,this.followersList=s.data.data.followers})).catch((s=>{console.log(s)}))}},created(){this.getFollowers()}}},6732:function(s,e){e["Z"]={data(){return{profile:[],followers:[],following:[],isLoading:!1}},methods:{getProfile(){this.isLoading=!0;const s=document.cookie.split("jwt=").pop();this.$http({method:"GET",url:"https://metashare.onrender.com/api/users/myProfile",headers:{Authorization:`Bearer ${s}`}}).then((s=>{this.isLoading=!1,this.profile=s.data.data,this.followers=s.data.data.followers,this.following=s.data.data.following})).catch((s=>{this.isLoading=!1,console.log(s),"您尚未登入"===s.response.data.message&&this.$router.push("/login")}))}},created(){this.getProfile()}}},9236:function(s,e,t){t.d(e,{Z:function(){return G}});var l=t(3396),a=t(7139),o=t(9242);const i={class:"fixed-top container-fluid d-flex justify-content-between align-items-center py-sm-2 px-sm-8 px-3 py-3 bg-white shadow-sm"},d={class:"d-md-block d-none"},r={class:"d-flex align-items-center"},n={class:"me-4"},c=(0,l._)("span",{class:"material-icons fs-xl"}," home ",-1),m={class:"dropdown h-primary-100 rounded-pill p-1"},p={type:"button",class:"d-flex align-items-center border border-0 bg-transparent","data-bs-toggle":"dropdown","aria-expanded":"false"},u={class:"me-2 userAvatar rounded-circle",style:{width:"40px",height:"40px"}},f=["src"],w={class:"userName"},h={class:"dropdown-menu py-0"},b={class:"border-bottom"},_=(0,l._)("span",{class:"material-icons fs-lg me-1"}," notifications ",-1),g=(0,l._)("p",{class:"fs-xs fw-bold"},"追蹤名單",-1),x={class:"border-bottom"},v=(0,l._)("span",{class:"material-icons fs-lg me-1"}," favorite ",-1),y=(0,l._)("p",{class:"fs-xs fw-bold"},"喜歡貼文",-1),k={class:"border-bottom"},L=(0,l._)("span",{class:"material-icons fs-lg me-1"}," account_circle ",-1),U=(0,l._)("p",{class:"fs-xs fw-bold"},"個人貼文牆",-1),$={class:"border-bottom"},C=(0,l._)("span",{class:"material-icons fs-lg me-1"}," edit_square ",-1),j=(0,l._)("p",{class:"fs-xs fw-bold"},"編輯個人資料",-1),P={class:"",style:{cursor:"pointer"}},F=(0,l._)("span",{class:"material-icons fs-lg ms-1 me-1"}," logout ",-1),W=(0,l._)("p",{class:"fs-xs fw-bold"},"登出",-1),z=[F,W],D={class:"fixed-bottom d-md-none d-block d-flex justify-content-center w-100 bg-white px-4 rounded-top-xl shadow-footer"},Z={class:"navbar-footer d-flex justify-content-between align-items-center py-2"},E=(0,l._)("div",null,[(0,l._)("span",{class:"material-icons fs-3xl"}," home ")],-1),A=(0,l._)("div",null,[(0,l._)("span",{class:"material-icons fs-3xl"}," favorite ")],-1),B=(0,l._)("div",{class:""},[(0,l._)("span",{class:"material-icons fs-3xl"}," people ")],-1),H=(0,l._)("div",{class:""},[(0,l._)("span",{class:"material-icons fs-3xl"}," notifications ")],-1),T=(0,l._)("div",null,[(0,l._)("span",{class:"material-icons fs-3xl"}," person ")],-1);function I(s,e,t,F,W,I){const V=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",i,[(0,l._)("h1",null,[(0,l.Wm)(V,{to:"/post",class:"bg-cover logo"})]),(0,l._)("div",d,[(0,l._)("div",r,[(0,l._)("div",n,[(0,l.Wm)(V,{to:"/post",class:"border border-primary rounded-circle p-2 home"},{default:(0,l.w5)((()=>[c])),_:1})]),(0,l._)("div",m,[(0,l._)("button",p,[(0,l._)("div",u,[(0,l._)("img",{src:s.profile.avatar,alt:"",style:{width:"40px",height:"40px"},class:"rounded-circle"},null,8,f)]),(0,l._)("div",w,(0,a.zw)(s.profile.name),1)]),(0,l._)("ul",h,[(0,l._)("li",b,[(0,l.Wm)(V,{class:"dropdown-item d-flex align-items-center text-dark-800 py-2",to:"/follow"},{default:(0,l.w5)((()=>[_,g])),_:1})]),(0,l._)("li",x,[(0,l.Wm)(V,{class:"dropdown-item d-flex align-items-center text-dark-800 py-2",to:"/likesPost"},{default:(0,l.w5)((()=>[v,y])),_:1})]),(0,l._)("li",k,[(0,l.Wm)(V,{class:"dropdown-item d-flex align-items-center text-dark-800 py-2",to:`/profile/${s.profile._id}`},{default:(0,l.w5)((()=>[L,U])),_:1},8,["to"])]),(0,l._)("li",$,[(0,l.Wm)(V,{class:"dropdown-item d-flex align-items-center text-dark-800 py-2",to:"/updateUser"},{default:(0,l.w5)((()=>[C,j])),_:1})]),(0,l._)("li",P,[(0,l._)("a",{onClick:e[0]||(e[0]=(0,o.iM)(((...s)=>I.logOut&&I.logOut(...s)),["prevent"])),class:"dropdown-item d-flex align-items-center text-dark-800 py-2"},z)])])])])])]),(0,l._)("div",D,[(0,l._)("div",Z,[(0,l.Wm)(V,{to:"/post","active-class":"is-active",class:(0,a.C_)([["profile"===s.$route.name?"is-active":""],"text-dark rounded-top"])},{default:(0,l.w5)((()=>[E])),_:1},8,["class"]),(0,l.Wm)(V,{to:"/likesPost","active-class":"is-active",class:"text-dark rounded-top"},{default:(0,l.w5)((()=>[A])),_:1}),(0,l.Wm)(V,{to:"/followers","active-class":"is-active",class:"text-dark"},{default:(0,l.w5)((()=>[B])),_:1}),(0,l.Wm)(V,{to:"/follow","active-class":"is-active",class:"text-dark"},{default:(0,l.w5)((()=>[H])),_:1}),(0,l.Wm)(V,{to:"/list","active-class":"is-active",class:(0,a.C_)([["updateUser"===s.$route.name?"is-active":""],"text-dark"])},{default:(0,l.w5)((()=>[T])),_:1},8,["class"])])])],64)}var V=t(6732),q={data(){return{link:""}},mixins:[V.Z],methods:{logOut(){this.$http({method:"GET",url:"https://metashare.onrender.com/api/users/logout"}).then((s=>{"success"===s.data.status&&(document.cookie="jwt=; path=/",this.$router.push("/login"))})).catch((s=>{console.log(s)}))}}},M=t(89);const Y=(0,M.Z)(q,[["render",I]]);var G=Y},2021:function(s,e,t){t.r(e),t.d(e,{default:function(){return ce}});var l=t(3396),a=t(7139),o=t(9242);const i={class:"w-100 bg-light h-100 pb-md-10 pb-19"},d={class:"container w-100 pb-12 pt-12"},r={class:"d-md-flex d-block"},n={class:"d-md-block d-flex",style:{"min-width":"240px","background-color":"#f9f9f9","border-radius":"4px 0 0 4px"}},c={class:"w-md-50"},m=(0,l._)("span",{class:"material-icons me-3"}," account_circle ",-1),p=(0,l.Uk)(" 編輯個人檔案 "),u=[m,p],f={class:"w-md-50"},w=(0,l._)("span",{class:"material-icons me-3"}," lock ",-1),h=(0,l.Uk)(" 重設密碼 "),b=[w,h],_={key:0,class:"w-100 py-6 px-8 shadow-lg bg-white",style:{"border-radius":"0 4px 4px 0"}},g=(0,l._)("p",{class:"text-primary fw-bold fs-2xl fs-md-lg mb-4"},"編輯個人檔案",-1),x=(0,l._)("div",{class:"w-100 t-border d-block mb-5"},null,-1),v={class:"border-bottom mb-6 pb-8"},y={class:"d-flex flex-column justify-content-center align-items-center"},k={class:"mb-6"},L={class:"rounded-circle"},U=["src"],$={for:"uploadLoadingBtn",class:"position-relative d-inline-flex justify-content-center rounded align-items-center py-2 px-4 btn--secondary"},C=(0,l._)("span",{class:"material-icons me-1"}," file_upload ",-1),j=(0,l._)("p",null,"上傳大頭貼",-1),P={class:"border-bottom mb-6 pb-8"},F={class:"d-md-flex align-items-md-center d-block"},W=(0,l._)("p",{class:"fs-md fs-md-sm mb-md-0 mb-2",style:{width:"112px"}},[(0,l.Uk)(" Email "),(0,l._)("span",{class:"text-danger text-nowrap fw-bold",style:{"font-size":"10px"}},"無法變更")],-1),z={class:"d-flex align-items-center w-100",style:{"max-width":"420px"}},D={class:"border-bottom mb-6 pb-8"},Z={class:"d-md-flex align-items-md-center d-block"},E=(0,l._)("p",{class:"fs-md fs-md-sm mb-md-0 mb-2",style:{width:"112px"}}," 暱稱 ",-1),A={class:"d-flex align-items-center w-100",style:{"max-width":"420px"}},B={class:"border-bottom mb-6 pb-8"},H={class:"d-md-flex align-items-md-start d-block"},T=(0,l._)("p",{class:"fs-md fs-md-sm mb-md-0 mb-2",style:{width:"112px"}}," 個人簡介 ",-1),I={class:"d-flex align-items-center w-100",style:{"max-width":"420px"}},V={class:"d-flex justify-content-end"},q=(0,l._)("span",{class:"material-icons fs-lg me-2"}," edit_square ",-1),M=(0,l.Uk)("儲存變更 "),Y=[q,M],G={key:1,class:"w-100 py-6 px-8 shadow-lg bg-white",style:{"border-radius":"0 4px 4px 0"}},O=(0,l._)("p",{class:"text-primary fw-bold fs-2xl fs-md-lg mb-4"},"重設密碼",-1),N=(0,l._)("div",{class:"w-100 t-border d-block mb-5"},null,-1),K={class:"mb-6"},S={class:"d-md-flex align-items-md-center d-block"},J=(0,l._)("p",{class:"fs-md fs-md-sm mb-md-0 mb-2",style:{width:"170px"}}," 輸入目前的密碼 ",-1),Q={class:"d-flex align-items-center w-100",style:{"max-width":"420px"}},R={class:"mb-6"},X={class:"d-md-flex align-items-md-center d-block"},ss=(0,l._)("p",{class:"fs-md fs-md-sm mb-md-0 mb-2",style:{width:"170px"}}," 輸入新密碼 ",-1),es={class:"d-flex align-items-center w-100",style:{"max-width":"420px"}},ts={class:"border-bottom mb-6 pb-8"},ls={class:"d-md-flex align-items-md-center d-block"},as=(0,l._)("p",{class:"fs-md fs-md-sm mb-md-0 mb-2",style:{width:"170px"}}," 確認新密碼 ",-1),os={class:"d-flex align-items-center w-100",style:{"max-width":"420px"}},is={class:"d-flex justify-content-end"},ds=(0,l._)("span",{class:"material-icons fs-lg me-2"}," edit_square ",-1),rs=(0,l.Uk)("儲存變更 "),ns=[ds,rs];function cs(s,e,t,m,p,w){const h=(0,l.up)("Navbar"),q=(0,l.up)("Loading"),M=(0,l.up)("PersonHeader");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(h),(0,l._)("div",i,[(0,l.Wm)(q,{active:p.isLoading},null,8,["active"]),(0,l.Wm)(M),(0,l._)("div",d,[(0,l._)("div",r,[(0,l._)("ul",n,[(0,l._)("li",c,[(0,l._)("button",{to:"/updateUser",class:(0,a.C_)([{"is-active-profile":"updateUser"===p.link},"w-100 text-dark-800 p-3 rounded-0 text-start border-none text-md-start text-center"]),onClick:e[0]||(e[0]=s=>p.link="updateUser"),type:"button"},u,2)]),(0,l._)("li",f,[(0,l._)("button",{type:"button",class:(0,a.C_)([{"is-active-profile":"updatePwd"===p.link},"w-100 text-dark-800 p-3 rounded-0 text-start border-none text-md-start text-center"]),onClick:e[1]||(e[1]=s=>p.link="updatePwd")},b,2)])]),"updateUser"===p.link?((0,l.wg)(),(0,l.iD)("div",_,[g,x,(0,l._)("div",v,[(0,l._)("div",y,[(0,l._)("div",k,[(0,l._)("div",L,[(0,l._)("img",{src:s.profile.avatar,alt:"",class:"rounded-circle",style:{width:"128px",height:"128px"}},null,8,U)])]),(0,l._)("label",$,[(0,l._)("input",{id:"uploadLoadingBtn",type:"file",class:"position-absolute opacity-0 w-100",ref:"fileInput",onChange:e[2]||(e[2]=(...s)=>w.uploadFile&&w.uploadFile(...s)),style:{left:"0",cursor:"pointer"}},null,544),C,j])])]),(0,l._)("div",P,[(0,l._)("div",F,[W,(0,l._)("div",z,[(0,l.wy)((0,l._)("input",{type:"text",class:"form-control w-100","onUpdate:modelValue":e[3]||(e[3]=e=>s.profile.email=e),disabled:""},null,512),[[o.nr,s.profile.email]])])])]),(0,l._)("div",D,[(0,l._)("div",Z,[E,(0,l._)("div",A,[(0,l.wy)((0,l._)("input",{type:"text",class:"form-control w-100",placeholder:"請輸入暱稱","onUpdate:modelValue":e[4]||(e[4]=e=>s.profile.name=e)},null,512),[[o.nr,s.profile.name]])])])]),(0,l._)("div",B,[(0,l._)("div",H,[T,(0,l._)("div",I,[(0,l.wy)((0,l._)("textarea",{rows:"5",type:"text",class:"form-control w-100","onUpdate:modelValue":e[5]||(e[5]=e=>s.profile.personalInfo=e),placeholder:"請輸入個人簡介"},null,512),[[o.nr,s.profile.personalInfo]])])])]),(0,l._)("div",V,[(0,l._)("button",{type:"button",class:"btn--primary d-flex align-items-center",onClick:e[6]||(e[6]=(...s)=>w.updateInfo&&w.updateInfo(...s))},Y)])])):((0,l.wg)(),(0,l.iD)("div",G,[O,N,(0,l._)("div",K,[(0,l._)("div",S,[J,(0,l._)("div",Q,[(0,l.wy)((0,l._)("input",{type:"password","onUpdate:modelValue":e[7]||(e[7]=s=>p.password.passwordCurrent=s),class:"form-control w-100 form-control-lg fs-md fs-md-sm",placeholder:"請輸入目前的密碼"},null,512),[[o.nr,p.password.passwordCurrent]])])])]),(0,l._)("div",R,[(0,l._)("div",X,[ss,(0,l._)("div",es,[(0,l.wy)((0,l._)("input",{type:"password","onUpdate:modelValue":e[8]||(e[8]=s=>p.password.password=s),class:"form-control w-100 form-control-lg fs-md fs-md-sm",placeholder:"請輸入新密碼"},null,512),[[o.nr,p.password.password]])])])]),(0,l._)("div",ts,[(0,l._)("div",ls,[as,(0,l._)("div",os,[(0,l.wy)((0,l._)("input",{type:"password","onUpdate:modelValue":e[9]||(e[9]=s=>p.password.passwordConfirm=s),class:"form-control w-100 form-control-lg fs-md fs-md-sm",placeholder:"確認新密碼"},null,512),[[o.nr,p.password.passwordConfirm]])])])]),(0,l._)("div",is,[(0,l._)("button",{type:"button",class:"btn--primary d-flex align-items-center",onClick:e[10]||(e[10]=(...s)=>w.updatePassword&&w.updatePassword(...s))},ns)])]))])])])],64)}var ms=t(9236),ps=t(6732);const us={class:"container-fluid pt-20 shadow-lg rounded-bottom-xl"},fs={class:"container flex-column align-items-center flex-md-row d-flex justify-content-md-between align-items-md-center pb-md-4 pb-8"},ws={class:"d-md-flex align-items-md-center"},hs={class:"rounded-circle me-md-7 me-0 d-flex justify-content-center d-md-block"},bs=["src"],_s={class:"mt-md-10 mt-5"},gs={class:"fs-2xl fw-bold text-center text-md-start"},xs={class:"d-flex"},vs={type:"button",class:"text-dark fs-xs btn-none","data-bs-toggle":"modal","data-bs-target":"#userFollowing"},ys=(0,l.Uk)(" 正在追蹤 "),ks={class:"fs-sm fw-bold text-primary"},Ls=(0,l.Uk)(" 人 "),Us=(0,l._)("div",{class:"m-border"},null,-1),$s={type:"button",class:"text-dark fs-xs btn-none","data-bs-toggle":"modal","data-bs-target":"#userFollowers"},Cs={class:"fs-sm fw-bold text-primary"},js=(0,l.Uk)(" 位追蹤者 "),Ps={class:"modal fade",id:"userFollowing",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Fs={class:"modal-dialog modal-dialog-scrollable"},Ws={class:"modal-content"},zs=(0,l._)("div",{class:"modal-header"},[(0,l._)("h5",{class:"modal-title text-primary fw-bold fs-xl",id:"exampleModalLabel"}," 追蹤名單 "),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Ds={class:"modal-body"},Zs={key:0,class:"fs-xs text-dark-800 d-flex align-items-center justify-content-center py-10"},Es={class:"d-flex align-items-center pb-3"},As={class:"d-flex align-items-center w-100"},Bs={class:"rounded-circle me-2"},Hs=["src"],Ts={class:""},Is={class:""},Vs=["onClick"],qs={class:"modal fade",id:"userFollowers",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Ms={class:"modal-dialog modal-dialog-scrollable"},Ys={class:"modal-content"},Gs=(0,l._)("div",{class:"modal-header"},[(0,l._)("h5",{class:"modal-title text-primary fw-bold fs-xl",id:"exampleModalLabel"}," 粉絲名單 "),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Os={class:"modal-body"},Ns={key:0,class:"fs-xs text-dark-800 d-flex align-items-center justify-content-center py-10"},Ks={class:"d-flex align-items-center pb-3"},Ss={class:"d-flex align-items-center w-100"},Js={class:"rounded-circle me-2"},Qs=["src"],Rs={class:""},Xs={class:""},se=["onClick"];function ee(s,e,t,o,i,d){const r=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",us,[(0,l._)("div",fs,[(0,l._)("div",ws,[(0,l._)("div",hs,[(0,l._)("img",{alt:"",class:"rounded-circle border border-2 border-primary",style:{width:"136px",height:"136px"},src:s.profile.avatar},null,8,bs)]),(0,l._)("div",_s,[(0,l._)("p",gs,(0,a.zw)(s.profile.name),1),(0,l._)("div",xs,[(0,l._)("button",vs,[ys,(0,l._)("span",ks,(0,a.zw)(s.following.length),1),Ls]),Us,(0,l._)("button",$s,[(0,l._)("span",Cs,(0,a.zw)(s.followersList.length),1),js])])])])])]),(0,l._)("div",Ps,[(0,l._)("div",Fs,[(0,l._)("div",Ws,[zs,(0,l._)("div",Ds,[s.followingList.length<=0?((0,l.wg)(),(0,l.iD)("div",Zs," 還沒有追蹤任何人喔 ")):(0,l.kq)("",!0),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.followingList,(s=>((0,l.wg)(),(0,l.iD)("div",{class:"w-100 border-bottom mb-3",key:s.user._id},[(0,l._)("div",Es,[(0,l._)("div",As,[(0,l._)("div",Bs,[(0,l._)("img",{src:s.user.avatar,alt:"",class:"rounded-circle avatar"},null,8,Hs)]),(0,l._)("div",Ts,[(0,l.Wm)(r,{to:`/profile/${s.user._id}`,class:"text-dark fw-bold fs-lg fs-md-sm"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(s.user.name),1)])),_:2},1032,["to"])])]),(0,l._)("div",Is,[(0,l._)("button",{class:"btn--primary text-nowrap",onClick:e=>d.unfollowUsers(s.user._id)}," 取消追蹤 ",8,Vs)])])])))),128))])])])]),(0,l._)("div",qs,[(0,l._)("div",Ms,[(0,l._)("div",Ys,[Gs,(0,l._)("div",Os,[s.followersList.length<=0?((0,l.wg)(),(0,l.iD)("div",Ns," 還沒有粉絲喔 ")):(0,l.kq)("",!0),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.followersList,(s=>((0,l.wg)(),(0,l.iD)("div",{class:"w-100 border-bottom mb-3",key:s.user._id},[(0,l._)("div",Ks,[(0,l._)("div",Ss,[(0,l._)("div",Js,[(0,l._)("img",{src:s.user.avatar,alt:"",class:"rounded-circle avatar"},null,8,Qs)]),(0,l._)("div",Rs,[(0,l.Wm)(r,{to:`/profile/${s.user._id}`,class:"text-dark fw-bold fs-lg fs-md-sm"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(s.user.name),1)])),_:2},1032,["to"])])]),(0,l._)("div",Xs,[(0,l._)("button",{class:"btn--primary text-nowrap",onClick:e=>d.unfollowersUser(s.user._id)}," 取消關注 ",8,se)])])])))),128))])])])])],64)}var te=t(6720),le=t(1617),ae={mixins:[ps.Z,te.Z,le.Z],methods:{unfollowersUser(s){this.isLoading=!0;const e=document.cookie.split("jwt=").pop();this.$http({method:"DELETE",url:`https://metashare.onrender.com/api/users/${s}/followers`,headers:{Authorization:`Bearer ${e}`}}).then((s=>{"success"===s.data.status&&(this.isLoading=!1,alert("您已取消關注成功"),this.getFollowers())})).catch((s=>{console.log(s)}))},unfollowUsers(s){this.isLoading=!0;const e=document.cookie.split("jwt=").pop();this.$http({method:"DELETE",url:`https://metashare.onrender.com/api/users/${s}/following`,headers:{Authorization:`Bearer ${e}`}}).then((s=>{"success"===s.data.status&&(this.isLoading=!1,alert("您已取消追蹤成功"),this.getFollow())})).catch((s=>{console.log(s)}))}}},oe=t(89);const ie=(0,oe.Z)(ae,[["render",ee]]);var de=ie,re={data(){return{link:"updateUser",isLoading:!1,password:{passwordCurrent:"",password:"",passwordConfirm:""}}},components:{Navbar:ms.Z,PersonHeader:de},methods:{uploadFile(){this.isLoading=!0;const s=this.$refs.fileInput.files[0],e=new FormData;e.append("image",s);const t=document.cookie.split("jwt=").pop();this.$http({method:"POST",url:"https://metashare.onrender.com/api/upload",headers:{Authorization:`Bearer ${t}`},data:e}).then((s=>{console.log(s.data.status),"success"===s.data.status&&(this.profile.avatar=s.data.data,this.isLoading=!1)})).catch((s=>{this.isLoading=!1,alert(s.response.data.message)}))},updateInfo(){this.isLoading=!0;const s=document.cookie.split("jwt=").pop();this.$http({method:"PATCH",url:"https://metashare.onrender.com/api/users/myProfile",headers:{Authorization:`Bearer ${s}`},data:this.profile}).then((s=>{this.isLoading=!1,this.getProfile(),alert("更新檔案成功")})).catch((s=>{console.log(s)}))},updatePassword(){this.isLoading=!0;const s=document.cookie.split("jwt=").pop();this.$http({method:"PATCH",url:"https://metashare.onrender.com/api/users/updatePassword",headers:{Authorization:`Bearer ${s}`},data:this.password}).then((s=>{this.isLoading=!1,alert("更新密碼成功"),this.password={}})).catch((s=>{console.log(s),this.isLoading=!1,"Error"===s.response.data.status&&alert(s.response.data.message)}))}},mixins:[ps.Z]};const ne=(0,oe.Z)(re,[["render",cs]]);var ce=ne}}]);
//# sourceMappingURL=21.825e396c.js.map