"use strict";(self["webpackChunkmetahare_front"]=self["webpackChunkmetahare_front"]||[]).push([[720],{6732:function(s,e){e["Z"]={data(){return{profile:[],followers:[],following:[],isLoading:!1}},methods:{getProfile(){this.isLoading=!0;const s=document.cookie.split("jwt=").pop();this.$http({method:"GET",url:"https://metashare.onrender.com/api/users/myProfile",headers:{Authorization:`Bearer ${s}`}}).then((s=>{this.isLoading=!1,this.profile=s.data.data,this.followers=s.data.data.followers,this.following=s.data.data.following})).catch((s=>{this.isLoading=!1,console.log(s),"您尚未登入"===s.response.data.message&&this.$router.push("/login")}))}},created(){this.getProfile()}}},9236:function(s,e,t){t.d(e,{Z:function(){return F}});var a=t(3396),o=t(7139),l=t(9242);const i={class:"fixed-top container-fluid d-flex justify-content-between align-items-center py-sm-2 px-sm-8 px-3 py-3 bg-white shadow-sm"},r={class:"d-md-block d-none"},n={class:"d-flex align-items-center"},d={class:"me-4"},c=(0,a._)("span",{class:"material-icons fs-xl"}," home ",-1),p={class:"dropdown h-primary-100 rounded-pill p-1"},m={type:"button",class:"d-flex align-items-center border border-0 bg-transparent","data-bs-toggle":"dropdown","aria-expanded":"false"},u={class:"me-2 userAvatar rounded-circle",style:{width:"40px",height:"40px"}},f=["src"],h={class:"userName"},w={class:"dropdown-menu py-0"},_={class:"border-bottom"},g=(0,a._)("span",{class:"material-icons fs-lg me-1"}," notifications ",-1),b=(0,a._)("p",{class:"fs-xs fw-bold"},"追蹤名單",-1),x={class:"border-bottom"},v=(0,a._)("span",{class:"material-icons fs-lg me-1"}," favorite ",-1),y=(0,a._)("p",{class:"fs-xs fw-bold"},"喜歡貼文",-1),k={class:"border-bottom"},W=(0,a._)("span",{class:"material-icons fs-lg me-1"}," account_circle ",-1),$=(0,a._)("p",{class:"fs-xs fw-bold"},"個人貼文牆",-1),Z={class:"border-bottom"},j=(0,a._)("span",{class:"material-icons fs-lg me-1"}," edit_square ",-1),P=(0,a._)("p",{class:"fs-xs fw-bold"},"編輯個人資料",-1),z={class:"",style:{cursor:"pointer"}},C=(0,a._)("span",{class:"material-icons fs-lg ms-1 me-1"}," logout ",-1),A=(0,a._)("p",{class:"fs-xs fw-bold"},"登出",-1),L=[C,A],N={class:"fixed-bottom d-md-none d-block d-flex justify-content-center w-100 bg-white px-4 rounded-top-xl shadow-footer"},O={class:"navbar-footer d-flex justify-content-between align-items-center py-2"},U=(0,a._)("div",null,[(0,a._)("span",{class:"material-icons fs-3xl"}," home ")],-1),D=(0,a._)("div",null,[(0,a._)("span",{class:"material-icons fs-3xl"}," favorite ")],-1),S=(0,a._)("div",{class:""},[(0,a._)("span",{class:"material-icons fs-3xl"}," people ")],-1),T=(0,a._)("div",{class:""},[(0,a._)("span",{class:"material-icons fs-3xl"}," notifications ")],-1),q=(0,a._)("div",null,[(0,a._)("span",{class:"material-icons fs-3xl"}," person ")],-1);function B(s,e,t,C,A,B){const E=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",i,[(0,a._)("h1",null,[(0,a.Wm)(E,{to:"/post",class:"bg-cover logo"})]),(0,a._)("div",r,[(0,a._)("div",n,[(0,a._)("div",d,[(0,a.Wm)(E,{to:"/post",class:"border border-primary rounded-circle p-2 home"},{default:(0,a.w5)((()=>[c])),_:1})]),(0,a._)("div",p,[(0,a._)("button",m,[(0,a._)("div",u,[(0,a._)("img",{src:s.profile.avatar,alt:"",style:{width:"40px",height:"40px"},class:"rounded-circle"},null,8,f)]),(0,a._)("div",h,(0,o.zw)(s.profile.name),1)]),(0,a._)("ul",w,[(0,a._)("li",_,[(0,a.Wm)(E,{class:"dropdown-item d-flex align-items-center text-dark-800 py-2",to:"/follow"},{default:(0,a.w5)((()=>[g,b])),_:1})]),(0,a._)("li",x,[(0,a.Wm)(E,{class:"dropdown-item d-flex align-items-center text-dark-800 py-2",to:"/likesPost"},{default:(0,a.w5)((()=>[v,y])),_:1})]),(0,a._)("li",k,[(0,a.Wm)(E,{class:"dropdown-item d-flex align-items-center text-dark-800 py-2",to:`/profile/${s.profile._id}`},{default:(0,a.w5)((()=>[W,$])),_:1},8,["to"])]),(0,a._)("li",Z,[(0,a.Wm)(E,{class:"dropdown-item d-flex align-items-center text-dark-800 py-2",to:"/updateUser"},{default:(0,a.w5)((()=>[j,P])),_:1})]),(0,a._)("li",z,[(0,a._)("a",{onClick:e[0]||(e[0]=(0,l.iM)(((...s)=>B.logOut&&B.logOut(...s)),["prevent"])),class:"dropdown-item d-flex align-items-center text-dark-800 py-2"},L)])])])])])]),(0,a._)("div",N,[(0,a._)("div",O,[(0,a.Wm)(E,{to:"/post","active-class":"is-active",class:(0,o.C_)([["profile"===s.$route.name?"is-active":""],"text-dark rounded-top"])},{default:(0,a.w5)((()=>[U])),_:1},8,["class"]),(0,a.Wm)(E,{to:"/likesPost","active-class":"is-active",class:"text-dark rounded-top"},{default:(0,a.w5)((()=>[D])),_:1}),(0,a.Wm)(E,{to:"/followers","active-class":"is-active",class:"text-dark"},{default:(0,a.w5)((()=>[S])),_:1}),(0,a.Wm)(E,{to:"/follow","active-class":"is-active",class:"text-dark"},{default:(0,a.w5)((()=>[T])),_:1}),(0,a.Wm)(E,{to:"/list","active-class":"is-active",class:(0,o.C_)([["updateUser"===s.$route.name?"is-active":""],"text-dark"])},{default:(0,a.w5)((()=>[q])),_:1},8,["class"])])])],64)}var E=t(6732),G={data(){return{link:""}},mixins:[E.Z],methods:{logOut(){this.$http({method:"GET",url:"https://metashare.onrender.com/api/users/logout"}).then((s=>{"success"===s.data.status&&(document.cookie="jwt=; path=/",this.$router.push("/login"))})).catch((s=>{console.log(s)}))}}},H=t(89);const Y=(0,H.Z)(G,[["render",B]]);var F=Y},720:function(s,e,t){t.r(e),t.d(e,{default:function(){return U}});var a=t(3396);const o={class:"w-100 bg-light h-100 pb-md-10 pb-19 px-2"},l={class:"container pt-20 d-flex"};function i(s,e,t,i,r,n){const d=(0,a.up)("Navbar"),c=(0,a.up)("Sidelist"),p=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(d),(0,a._)("div",o,[(0,a._)("div",l,[(0,a.Wm)(c),(0,a.Wm)(p)])])],64)}var r=t(7139);const n={class:"d-md-block d-none sidebarFix"},d={class:"bg-white rounded-3 shadow-lg py-8 px-7 text-center mb-3",style:{width:"240px"}},c={class:"mb-2 m-auto rounded-3",style:{width:"120px",height:"120px"}},p=["src"],m=(0,a._)("div",{class:"mb-5 fs-lg fw-bold text-dark userName"},null,-1),u=(0,a._)("span",{class:"w-100 t-border d-block mb-5"},null,-1),f={class:"d-flex justify-content-center"},h={class:"r-border pe-6"},w=(0,a._)("p",{class:"fs-xs"},"關注數",-1),_={class:"ps-6"},g=(0,a._)("p",{class:"fs-xs"},"追蹤中",-1),b={class:"px-9 py-4 bg-white rounded-3 shadow-lg",style:{width:"240px"}},x=(0,a._)("span",{class:"material-icons p-1 fs-md rounded-circle bg-white me-4",style:{color:"#faac38"}}," notifications ",-1),v=(0,a._)("p",{class:"fw-bold"},"追蹤名單",-1),y=(0,a._)("span",{class:"material-icons p-1 fs-md rounded-circle bg-white me-4",style:{color:"#7464b3"}}," people ",-1),k=(0,a._)("p",{class:"fw-bold"},"粉絲名單",-1),W=(0,a._)("span",{class:"material-icons p-1 fs-md rounded-circle bg-white me-4",style:{color:"#de5d4b"}}," favorite ",-1),$=(0,a._)("p",{class:"fw-bold"},"喜歡的貼文",-1);function Z(s,e,t,o,l,i){const Z=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",n,[(0,a._)("div",d,[(0,a._)("div",c,[(0,a._)("img",{src:s.profile.avatar,alt:"",style:{width:"120px",height:"120px"},class:"rounded-3"},null,8,p)]),m,u,(0,a._)("div",f,[(0,a._)("div",h,[w,(0,a.Wm)(Z,{to:"/followers",class:"btn-none"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,r.zw)(s.followers.length),1)])),_:1})]),(0,a._)("div",_,[g,(0,a.Wm)(Z,{to:"/follow",class:"btn-none"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,r.zw)(s.following.length),1)])),_:1})])])]),(0,a._)("div",b,[(0,a.Wm)(Z,{to:"/follow",class:"py-2 px-3 d-flex align-items-center rounded-2 border border-secondary bg-primary-100 mb-3 h-primary-100"},{default:(0,a.w5)((()=>[x,v])),_:1}),(0,a.Wm)(Z,{to:"/followers",class:"py-2 px-3 d-flex align-items-center rounded-2 border border-secondary bg-primary-100 mb-3 h-primary-100"},{default:(0,a.w5)((()=>[y,k])),_:1}),(0,a.Wm)(Z,{to:"likesPost",class:"py-2 px-3 d-flex align-items-center rounded-2 border border-secondary bg-primary-100 mb-3 h-primary-100"},{default:(0,a.w5)((()=>[W,$])),_:1})])])}var j=t(6732),P={mixins:[j.Z]},z=t(89);const C=(0,z.Z)(P,[["render",Z]]);var A=C,L=t(9236),N={mixins:[j.Z],components:{Sidelist:A,Navbar:L.Z},created(){const s=document.cookie.split("jwt=").pop();if(s)this.$http({method:"POST",url:"https://metashare.onrender.com/api/users/check",headers:{Authorization:`Bearer ${s}`}}).then((s=>{console.log(s.data.status)})).catch((s=>{"您尚未登入"!==s.response.data.message&&"invalid token"!==s.response.data.message||(alert(s.response.data.message),this.$router.push("/login"))}));else{let s=this.$route.query.token;document.cookie=`jwt=${s}; path=/`,this.axios.defaults.headers.common["Authorization"]=s}}};const O=(0,z.Z)(N,[["render",i]]);var U=O}}]);
//# sourceMappingURL=720.fb367559.js.map