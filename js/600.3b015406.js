"use strict";(self["webpackChunkmetahare_front"]=self["webpackChunkmetahare_front"]||[]).push([[600],{6600:function(s,e,t){t.r(e),t.d(e,{default:function(){return K}});var o=t(3396),l=t(9242),a=t(6079),n=t(2543);const i={class:"container-fuild bg-light"},r=(0,o._)("div",{class:"p-6"},[(0,o._)("h1",{class:"logo-lg bg-cover"})],-1),d={class:"row align-items-center"},c=(0,o._)("div",{class:"col-12 col-xl-5 col-xxl-5 offset-xxl-1 mb-10 mb-xl-0 d-md-block d-none"},[(0,o._)("img",{src:a,alt:"",class:"m-auto banner bg-cover"})],-1),m={class:"loginCard mb-10 col-12 col-xxl-5 col-xl-6 bg-white shadow-lg border-1 rounded-2 px-sm-12 py-sm-8 px-6 py-4"},p=(0,o._)("div",{class:"mb-6 d-flex align-items-center"},[(0,o._)("h3",{class:"d-flex align-items-center fw-bold fs-3xl text-primary me-3 fs-md-xl"}," 登入 "),(0,o._)("span",{class:"fs-2xl text-secondary fw-bold fs-md-xl"},"LOG IN")],-1),g={class:"align-items-center row mb-4"},u={class:"col-12 mb-3 mb-sm-0 px-1"},f=(0,o._)("img",{src:n,alt:"",class:"third-logo"},null,-1),h=(0,o._)("p",{class:"fw-bold text-primary"},"使用 Google 登入",-1),b=[f,h],w=(0,o._)("div",{class:"d-flex align-items-center mb-3"},[(0,o._)("span",{class:"w-100 t-border"})],-1),x={class:"mb-sm-8 mb-6"},_=(0,o._)("label",{for:"Email",class:"text-dark fw-bold fs-md mb-1"},"Email",-1),v={class:"d-flex align-items-center"},y={class:"mb-8"},k=(0,o._)("label",{for:"password",class:"text-dark fw-bold fs-md mb-1"},"密碼",-1),L={class:"d-flex align-items-center"},$=(0,o.Uk)("忘記密碼?"),j={class:"mb-6"},C={class:"d-flex align-items-center justify-content-center fs-xs fw-bold"},G=(0,o._)("p",{class:"text-dark me-2"},"還沒有帳號嗎?",-1),D=(0,o.Uk)("前往註冊");function E(s,e,t,a,n,f){const h=(0,o.up)("Loading"),E=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(h,{active:n.isLoading},null,8,["active"]),(0,o._)("div",i,[r,(0,o._)("div",d,[c,(0,o._)("div",m,[p,(0,o._)("div",g,[(0,o._)("div",u,[(0,o._)("button",{type:"button",onClick:e[0]||(e[0]=(...s)=>f.thirdGoogleLogin&&f.thirdGoogleLogin(...s)),class:"googleBtn btn-third rounded-1 d-flex align-items-center w-100 justify-content-center"},b)])]),w,(0,o._)("div",x,[_,(0,o._)("div",v,[(0,o.wy)((0,o._)("input",{type:"email",placeholder:"請輸入 Email",class:"form-control ps-4 py-2 fs-md w-100",id:"Email","onUpdate:modelValue":e[1]||(e[1]=s=>n.user.email=s),onKeydown:e[2]||(e[2]=(0,l.D2)(((...s)=>f.login&&f.login(...s)),["enter"]))},null,544),[[l.nr,n.user.email]])])]),(0,o._)("div",y,[k,(0,o._)("div",L,[(0,o.wy)((0,o._)("input",{type:"password",placeholder:"請輸入密碼",class:"form-control ps-4 py-2 fs-md w-100",id:"password","onUpdate:modelValue":e[3]||(e[3]=s=>n.user.password=s),onKeydown:e[4]||(e[4]=(0,l.D2)(((...s)=>f.login&&f.login(...s)),["enter"]))},null,544),[[l.nr,n.user.password]])]),(0,o.Wm)(E,{to:"/forgotPassword",class:"fs-sm d-flex justify-content-end fw-bold mt-1 forget-password"},{default:(0,o.w5)((()=>[$])),_:1})]),(0,o._)("div",j,[(0,o._)("button",{type:"button",class:"loginBtn w-100 btn btn-primary fs-md-lg fs-xl fw-bold",onClick:e[5]||(e[5]=(...s)=>f.login&&f.login(...s))}," 登入 ")]),(0,o._)("div",C,[G,(0,o.Wm)(E,{to:"/signup",class:"text-primary"},{default:(0,o.w5)((()=>[D])),_:1})])])])])],64)}var U={data(){return{user:{eamil:"",password:""},isLoading:!1}},methods:{login(){const s="https://metashare.onrender.com/api/users/login";this.isLoading=!0,this.$http.post(s,this.user).then((s=>{this.isLoading=!1;const{token:e,expires:t}=s.data.data;document.cookie=`jwt=${e}; expires=${new Date(t)}; path=/`,"success"===s.data.status&&this.$router.push("/post")})).catch((s=>{this.isLoading=!1,alert(s.response.data.message)}))},thirdGoogleLogin(){this.isLoading=!0,location.href="https://metashare.onrender.com/api/auth/google"}},created(){const s=document.cookie.split("jwt=").pop();this.$http({method:"POST",url:"https://metashare.onrender.com/api/users/check",headers:{Authorization:`Bearer ${s}`}}).then((s=>{"success"===s.data.status&&this.$router.push("/post")})).catch((s=>{console.log(s)}))}},B=t(89);const W=(0,B.Z)(U,[["render",E]]);var K=W},6079:function(s,e,t){s.exports=t.p+"img/banner.d39bce8c.svg"},2543:function(s,e,t){s.exports=t.p+"img/google.981508cd.png"}}]);
//# sourceMappingURL=600.3b015406.js.map