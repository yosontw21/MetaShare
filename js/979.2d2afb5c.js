(self["webpackChunkmetahare_front"]=self["webpackChunkmetahare_front"]||[]).push([[979],{5743:function(t){!function(e,s){t.exports=s()}(0,(function(){"use strict";var t=1e3,e=6e4,s=36e5,n="millisecond",i="second",r="minute",a="hour",o="day",u="week",d="month",c="quarter",l="year",h="date",f="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},$=function(t,e,s){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(s)+t},v={s:$,z:function(t){var e=-t.utcOffset(),s=Math.abs(e),n=Math.floor(s/60),i=s%60;return(e<=0?"+":"-")+$(n,2,"0")+":"+$(i,2,"0")},m:function t(e,s){if(e.date()<s.date())return-t(s,e);var n=12*(s.year()-e.year())+(s.month()-e.month()),i=e.clone().add(n,d),r=s-i<0,a=e.clone().add(n+(r?-1:1),d);return+(-(n+(s-i)/(r?i-a:a-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:d,y:l,w:u,d:o,D:h,h:a,m:r,s:i,ms:n,Q:c}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},y="en",w={};w[y]=g;var b=function(t){return t instanceof D},_=function t(e,s,n){var i;if(!e)return y;if("string"==typeof e){var r=e.toLowerCase();w[r]&&(i=r),s&&(w[r]=s,i=r);var a=e.split("-");if(!i&&a.length>1)return t(a[0])}else{var o=e.name;w[o]=e,i=o}return!n&&i&&(y=i),i||!n&&y},M=function(t,e){if(b(t))return t.clone();var s="object"==typeof e?e:{};return s.date=t,s.args=arguments,new D(s)},k=v;k.l=_,k.i=b,k.w=function(t,e){return M(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var D=function(){function g(t){this.$L=_(t.locale,null,!0),this.parse(t)}var $=g.prototype;return $.parse=function(t){this.$d=function(t){var e=t.date,s=t.utc;if(null===e)return new Date(NaN);if(k.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(m);if(n){var i=n[2]-1||0,r=(n[7]||"0").substring(0,3);return s?new Date(Date.UTC(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,r)):new Date(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,r)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},$.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},$.$utils=function(){return k},$.isValid=function(){return!(this.$d.toString()===f)},$.isSame=function(t,e){var s=M(t);return this.startOf(e)<=s&&s<=this.endOf(e)},$.isAfter=function(t,e){return M(t)<this.startOf(e)},$.isBefore=function(t,e){return this.endOf(e)<M(t)},$.$g=function(t,e,s){return k.u(t)?this[e]:this.set(s,t)},$.unix=function(){return Math.floor(this.valueOf()/1e3)},$.valueOf=function(){return this.$d.getTime()},$.startOf=function(t,e){var s=this,n=!!k.u(e)||e,c=k.p(t),f=function(t,e){var i=k.w(s.$u?Date.UTC(s.$y,e,t):new Date(s.$y,e,t),s);return n?i:i.endOf(o)},m=function(t,e){return k.w(s.toDate()[t].apply(s.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(e)),s)},p=this.$W,g=this.$M,$=this.$D,v="set"+(this.$u?"UTC":"");switch(c){case l:return n?f(1,0):f(31,11);case d:return n?f(1,g):f(0,g+1);case u:var y=this.$locale().weekStart||0,w=(p<y?p+7:p)-y;return f(n?$-w:$+(6-w),g);case o:case h:return m(v+"Hours",0);case a:return m(v+"Minutes",1);case r:return m(v+"Seconds",2);case i:return m(v+"Milliseconds",3);default:return this.clone()}},$.endOf=function(t){return this.startOf(t,!1)},$.$set=function(t,e){var s,u=k.p(t),c="set"+(this.$u?"UTC":""),f=(s={},s[o]=c+"Date",s[h]=c+"Date",s[d]=c+"Month",s[l]=c+"FullYear",s[a]=c+"Hours",s[r]=c+"Minutes",s[i]=c+"Seconds",s[n]=c+"Milliseconds",s)[u],m=u===o?this.$D+(e-this.$W):e;if(u===d||u===l){var p=this.clone().set(h,1);p.$d[f](m),p.init(),this.$d=p.set(h,Math.min(this.$D,p.daysInMonth())).$d}else f&&this.$d[f](m);return this.init(),this},$.set=function(t,e){return this.clone().$set(t,e)},$.get=function(t){return this[k.p(t)]()},$.add=function(n,c){var h,f=this;n=Number(n);var m=k.p(c),p=function(t){var e=M(f);return k.w(e.date(e.date()+Math.round(t*n)),f)};if(m===d)return this.set(d,this.$M+n);if(m===l)return this.set(l,this.$y+n);if(m===o)return p(1);if(m===u)return p(7);var g=(h={},h[r]=e,h[a]=s,h[i]=t,h)[m]||1,$=this.$d.getTime()+n*g;return k.w($,this)},$.subtract=function(t,e){return this.add(-1*t,e)},$.format=function(t){var e=this,s=this.$locale();if(!this.isValid())return s.invalidDate||f;var n=t||"YYYY-MM-DDTHH:mm:ssZ",i=k.z(this),r=this.$H,a=this.$m,o=this.$M,u=s.weekdays,d=s.months,c=function(t,s,i,r){return t&&(t[s]||t(e,n))||i[s].slice(0,r)},l=function(t){return k.s(r%12||12,t,"0")},h=s.meridiem||function(t,e,s){var n=t<12?"AM":"PM";return s?n.toLowerCase():n},m={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:k.s(o+1,2,"0"),MMM:c(s.monthsShort,o,d,3),MMMM:c(d,o),D:this.$D,DD:k.s(this.$D,2,"0"),d:String(this.$W),dd:c(s.weekdaysMin,this.$W,u,2),ddd:c(s.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(r),HH:k.s(r,2,"0"),h:l(1),hh:l(2),a:h(r,a,!0),A:h(r,a,!1),m:String(a),mm:k.s(a,2,"0"),s:String(this.$s),ss:k.s(this.$s,2,"0"),SSS:k.s(this.$ms,3,"0"),Z:i};return n.replace(p,(function(t,e){return e||m[t]||i.replace(":","")}))},$.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$.diff=function(n,h,f){var m,p=k.p(h),g=M(n),$=(g.utcOffset()-this.utcOffset())*e,v=this-g,y=k.m(this,g);return y=(m={},m[l]=y/12,m[d]=y,m[c]=y/3,m[u]=(v-$)/6048e5,m[o]=(v-$)/864e5,m[a]=v/s,m[r]=v/e,m[i]=v/t,m)[p]||v,f?y:k.a(y)},$.daysInMonth=function(){return this.endOf(d).$D},$.$locale=function(){return w[this.$L]},$.locale=function(t,e){if(!t)return this.$L;var s=this.clone(),n=_(t,e,!0);return n&&(s.$L=n),s},$.clone=function(){return k.w(this.$d,this)},$.toDate=function(){return new Date(this.valueOf())},$.toJSON=function(){return this.isValid()?this.toISOString():null},$.toISOString=function(){return this.$d.toISOString()},$.toString=function(){return this.$d.toUTCString()},g}(),x=D.prototype;return M.prototype=x,[["$ms",n],["$s",i],["$m",r],["$H",a],["$W",o],["$M",d],["$y",l],["$D",h]].forEach((function(t){x[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),M.extend=function(t,e){return t.$i||(t(e,D,M),t.$i=!0),M},M.locale=_,M.isDayjs=b,M.unix=function(t){return M(1e3*t)},M.en=w[y],M.Ls=w,M.p={},M}))},893:function(t){!function(e,s){t.exports=s()}(0,(function(){"use strict";return function(t,e,s){t=t||{};var n=e.prototype,i={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function r(t,e,s,i){return n.fromToBase(t,e,s,i)}s.en.relativeTime=i,n.fromToBase=function(e,n,r,a,o){for(var u,d,c,l=r.$locale().relativeTime||i,h=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],f=h.length,m=0;m<f;m+=1){var p=h[m];p.d&&(u=a?s(e).diff(r,p.d,!0):r.diff(e,p.d,!0));var g=(t.rounding||Math.round)(Math.abs(u));if(c=u>0,g<=p.r||!p.r){g<=1&&m>0&&(p=h[m-1]);var $=l[p.l];o&&(g=o(""+g)),d="string"==typeof $?$.replace("%d",g):$(g,n,p.l,c);break}}if(n)return d;var v=c?l.future:l.past;return"function"==typeof v?v(d):v.replace("%s",d)},n.to=function(t,e){return r(t,e,this,!0)},n.from=function(t,e){return r(t,e,this)};var a=function(t){return t.$u?s.utc():s()};n.toNow=function(t){return this.to(a(this),t)},n.fromNow=function(t){return this.from(a(this),t)}}}))},976:function(t){!function(e,s){t.exports=s()}(0,(function(){"use strict";return function(t,e,s){s.updateLocale=function(t,e){var n=s.Ls[t];if(n)return(e?Object.keys(e):[]).forEach((function(t){n[t]=e[t]})),n}}}))},9743:function(t,e,s){"use strict";s.d(e,{u:function(){return c},v:function(){return d}});var n=s(5743),i=s.n(n),r=s(893),a=s.n(r),o=s(976),u=s.n(o);i().extend(a()),i().extend(u()),i().updateLocale("en",{relativeTime:{future:"in %s",past:"%s ago",s:"幾秒鐘",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}});const d=t=>i()(t).format("YYYY/MM/DD HH:mm"),c=t=>i()(t).toNow(!0)},9979:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return F}});var n=s(3396),i=s(7139);const r={class:"w-100 ms-md-9 ms-0 container"},a={class:"w-100 py-3 px-4 rounded-2 shadow-lg bg-white mb-6"},o=(0,n._)("p",{class:"text-primary fw-bold fs-lg mb-4"},"喜歡的貼文",-1),u=(0,n._)("div",{class:"w-100 t-border d-block mb-5"},null,-1),d={key:0,class:"fs-xs text-dark-800 d-flex align-items-center justify-content-center py-10"},c={class:"d-lg-flex align-items-center d-block pb-5"},l={class:"d-flex align-items-center w-100 mb-lg-0 mb-3"},h={class:"rounded-circle me-2"},f=["src"],m={class:""},p={class:"fs-xs text-black-50 text-nowrap fs-md-2xs"},g={class:"d-flex"},$=["onClick"],v=(0,n._)("span",{class:"material-icons fs-md-lg fs-xl"}," heart_broken ",-1),y=(0,n.Uk)(" 收回喜歡 "),w=[v,y],b=["data-bs-target","onClick"],_=(0,n._)("span",{class:"material-icons fs-md-lg fs-xl"}," visibility ",-1),M=(0,n.Uk)(" 查看貼文 "),k=[_,M],D=["id"],x={class:"modal-dialog modal-dialog-scrollable"},S={class:"modal-content"},L=(0,n._)("div",{class:"modal-header"},[(0,n._)("h1",{class:"modal-title fw-bold fs-lg text-primary text-center"}),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),O={class:"modal-body w-100 py-3 px-6"},T={class:"pb-3 mb-2 border-bottom"},P={class:"d-flex align-items-center justify-content-between"},Y={class:"d-flex align-items-center"},H={class:"me-3"},C={class:"rounded-circle",style:{width:"56px",height:"56px"}},A=["src"],z={class:""},W={class:"border-bottom pb-3 mb-2"},j={key:0,class:"rounded-3 mt-3",style:{"max-height":"740px"}},N=["src"];function I(t,e,s,v,y,_){const M=(0,n.up)("Loading"),I=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(M,{active:y.isLoading},null,8,["active"]),(0,n._)("div",r,[(0,n._)("div",a,[o,u,y.likesPost.length<=0?((0,n.wg)(),(0,n.iD)("div",d," 還沒有喜歡的貼文喔 ")):((0,n.wg)(!0),(0,n.iD)(n.HY,{key:1},(0,n.Ko)(y.likesPost,(t=>((0,n.wg)(),(0,n.iD)("div",{class:"w-100 border-bottom mb-5",key:t.id},[(0,n._)("div",c,[(0,n._)("div",l,[(0,n._)("div",h,[(0,n._)("img",{src:t.user.avatar,alt:"",class:"rounded-circle avatar"},null,8,f)]),(0,n._)("div",m,[(0,n.Wm)(I,{to:`/profile/${t.user._id}`,class:"text-dark fw-bold fs-lg fs-md-sm"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,i.zw)(t.user.name),1)])),_:2},1032,["to"]),(0,n._)("p",p," 發文時間: "+(0,i.zw)(y.day(t.createdAt)),1)])]),(0,n._)("div",g,[(0,n._)("button",{type:"button",onClick:e=>_.delLikesPost(t.id),class:"btn--danger text-nowrap me-3"},w,8,$),(0,n._)("button",{class:"btn--primary text-nowrap","data-bs-toggle":"modal","data-bs-target":"#posts"+t.id,onClick:e=>_.getPost(t.id)},k,8,b)])]),(0,n._)("div",{class:"modal fade",id:"posts"+t.id,tabindex:"-1","aria-hidden":"true"},[(0,n._)("div",x,[(0,n._)("div",S,[L,(0,n._)("div",O,[(0,n._)("div",T,[(0,n._)("div",P,[(0,n._)("div",Y,[(0,n._)("div",H,[(0,n._)("div",C,[(0,n._)("img",{src:t.user.avatar,style:{width:"56px",height:"56px"},alt:"",class:"rounded-circle"},null,8,A)])]),(0,n._)("div",z,[(0,n._)("p",null,(0,i.zw)(t.user.name),1),(0,n._)("p",null,(0,i.zw)(y.day(t.createdAt)),1)])])])]),(0,n._)("div",W,[(0,n._)("p",null,(0,i.zw)(y.viewPost.content),1),y.viewPost.image?((0,n.wg)(),(0,n.iD)("div",j,[(0,n._)("img",{src:y.viewPost.image,class:"w-100 h-100 rounded-3",alt:"",style:{"max-height":"740px"}},null,8,N)])):(0,n.kq)("",!0)])])])])],8,D)])))),128))])])],64)}var U=s(9743),E={data(){return{likesPost:[],viewPost:[],userInfo:[],isLoading:!1,day:U.v,dayToNow:U.u}},methods:{getPost(t){this.isLoading=!0;const e=document.cookie.split("jwt=").pop();this.$http({method:"GET",url:`https://metashare.onrender.com/api/post/${t}`,headers:{Authorization:`Bearer ${e}`}}).then((t=>{this.isLoading=!1,this.viewPost=t.data.data,console.log(this.viewPost)})).catch((t=>{console.log(t)}))},getLikesPost(){this.isLoading=!0;const t=document.cookie.split("jwt=").pop();this.$http({method:"GET",url:"https://metashare.onrender.com/api/users/getLikesList",headers:{Authorization:`Bearer ${t}`}}).then((t=>{this.isLoading=!1,this.likesPost=t.data.data})).catch((t=>{console.log(t)}))},delLikesPost(t){this.isLoading=!0;const e=document.cookie.split("jwt=").pop();this.$http({method:"DELETE",url:`https://metashare.onrender.com/api/post/${t}/likes`,headers:{Authorization:`Bearer ${e}`}}).then((e=>{if("success"===e.data.status){this.isLoading=!1;const e=this.likesPost.findIndex((e=>e.id===t));this.likesPost.splice(e,1),this.getLikesPost()}})).catch((t=>{this.isLoading=!1,console.log(t)}))}},created(){this.getLikesPost()}},B=s(89);const Z=(0,B.Z)(E,[["render",I]]);var F=Z}}]);
//# sourceMappingURL=979.2d2afb5c.js.map